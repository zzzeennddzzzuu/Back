# Task 2

Git: https://github.com/MykolaJakowlew/4cs-11-part-2/tree/short-links

Deadline: 14.03
Здані після цієї дати роботи максмум будуть мати 10 балів
Здані роботи після після 27.03 максимум будуть мати 6 балів

## АПІ роути

1. POST /users
   body: { email, password }

   Цей роут повинен стоврити профіль користувача, та згенерувати йому унікальний apiKey. Результатом запиту є стоврений у колекції об'єкт user. Якщо користувач передає email який вже використовується, то апі роут повинен повернути помилку (400, This email is already in use). Якщо користувач не передав необхідного поля, то повернути помилку(400, This field <fieldName> is required)

2. POST /users/login
   body: { email, password }

   Цей роут повинен перевірити чи існує такий користувач, і у випадку якщо знайдено відповідний запис у БД, то повернути його. У випадку якщо співпадіння не знайдено, то повернути помилку(400, User with such credentials was not found)

3. POST /links
   headers: { authorization: apiKey }
   body: { originalLink: string }

   Цей роут повинен створити в колекції links об'єкт, в якому буде збережена інформація про оригінальний лінк та його коротку форму. Якщо apiKey не знайдено, то повернути помилку(401, User is not authorized). Коротку форму потрібно згенерувати довжиною не більше 15 символів. Символи для генерації можна використовувати насутпні: A-Z, a-z, 0-9.
   Поле expiredAt виставляти на 5 днів, з моменту коли був стоврений об'єкт. Результатом цього запиту має бути об'єкт з наступнимим полями: { link: string, expiredAt: Date },
   де поле link це коротка форма, expiredAt це дата коли цей лінк буде заекспарений

4. GET /links?expiredAt={ gt, lt }
   headers: { authorization: apiKey }

   Цей роут повинен повертати масив всіх лінків, які закріплені за користувачем. Якщо apiKey не знайдено, то повернути помилку(401, User is not authorized). Він має дозволяти фільтрацію результатів на основі поля expiredAt. Приклади:

   - GET /links?expiredAt={"gt":"2023-02-28T07:54:52.993Z" } -- повертає всі лінки, які мають за експайритися після 2023-02-28

   - GET /links?expiredAt={"gt":"2023-02-28T07:54:52.993Z","lt":"2023-03-05T07:54:52.993Z"} -- повертає всі лінки, які мають за експайритися після 2023-02-28 але до 2023-03-05

   - GET /links?expiredAt={"lt":"2023-03-05T07:54:52.993Z"} -- повертає всі лінки, які мають за експайритися до 2023-03-05

5. GET /shortLink/:cut

   Цей роут повинен редіректити запит на оригінальний лінк. Потрібно перевірити чи використаний короткий лінк є в БД та не є заекспайрений. У випадку коли об'єкта не буде знайдено, повернути помилку(400, Short link was not found). У випадку якщо об'єкт заекспайрений, повернути помилку (400, Link was expired).
   Для редіректу користувача на оригінальний лінк, використати команду res.redirect(<value>)
   де value це значення оригінальної лінки з БД
